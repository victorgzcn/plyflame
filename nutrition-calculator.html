<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nutrition & Fitness Calculator - Inclusive</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(to right, #2c3e50, #3498db);
            color: white;
            padding: 30px 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        header h1 i {
            color: #f39c12;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .app-content {
            display: flex;
            flex-wrap: wrap;
            padding: 30px;
        }

        .calculator-section {
            flex: 1;
            min-width: 300px;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            margin-right: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .results-section {
            flex: 1;
            min-width: 300px;
            padding: 25px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h2 i {
            color: #3498db;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        input, select {
            width: 100%;
            padding: 14px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s;
        }

        input:focus, select:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.2);
        }

        .radio-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 10px;
        }

        .radio-option {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            padding: 12px;
            background: white;
            border-radius: 8px;
            border: 1px solid #ddd;
            transition: all 0.3s;
        }

        .radio-option:hover {
            background: #f5f7fa;
            border-color: #3498db;
        }

        .radio-option input {
            width: auto;
            margin-top: 3px;
        }

        .radio-option label {
            flex: 1;
            margin-bottom: 0;
            cursor: pointer;
        }

        .radio-label-main {
            font-weight: 600;
            color: #2c3e50;
        }

        .radio-label-desc {
            font-size: 0.9rem;
            color: #666;
            margin-top: 3px;
            display: block;
            font-weight: normal;
        }

        .info-box {
            background: #e8f4fc;
            border-left: 4px solid #3498db;
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 0.95rem;
        }

        .info-box i {
            color: #3498db;
            margin-right: 8px;
        }

        .slider-container {
            margin-top: 10px;
        }

        .slider-value {
            text-align: center;
            font-weight: bold;
            margin-top: 5px;
            color: #3498db;
        }

        .btn {
            background: linear-gradient(to right, #3498db, #2ecc71);
            color: white;
            border: none;
            padding: 16px 30px;
            font-size: 18px;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(52, 152, 219, 0.4);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .result-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            border-left: 5px solid #3498db;
            transition: all 0.3s;
        }

        .result-card:hover {
            transform: translateX(5px);
        }

        .result-title {
            font-weight: 700;
            font-size: 1.3rem;
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .result-value {
            font-size: 2.2rem;
            font-weight: 800;
            color: #2c3e50;
            margin: 10px 0;
        }

        .result-details {
            color: #555;
            line-height: 1.6;
        }

        .bmi-category {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-top: 10px;
        }

        .underweight { background: #3498db; color: white; }
        .normal { background: #2ecc71; color: white; }
        .overweight { background: #f39c12; color: white; }
        .obese { background: #e74c3c; color: white; }

        .macronutrient {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px dashed #ddd;
        }

        .macro-bar {
            height: 20px;
            background: #eee;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }

        .macro-fill {
            height: 100%;
            float: left;
        }

        .protein { background: #3498db; }
        .carbs { background: #2ecc71; }
        .fat { background: #f39c12; }

        .macro-label {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
        }

        .meal-plan {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .meal {
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            margin-bottom: 15px;
        }

        .meal-title {
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .meal-items {
            color: #555;
            line-height: 1.6;
        }

        .history-section {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #eee;
        }

        .history-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        footer {
            text-align: center;
            padding: 20px;
            background: #2c3e50;
            color: white;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .app-content {
                flex-direction: column;
            }
            
            .calculator-section {
                margin-right: 0;
                margin-bottom: 20px;
            }
            
            header h1 {
                font-size: 2.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-calculator"></i> Nutrition & Fitness Calculator</h1>
            <p>Calculate your BMI, TDEE, and get personalized nutrition recommendations</p>
        </header>
        
        <div class="app-content">
            <div class="calculator-section">
                <h2><i class="fas fa-user-edit"></i> Your Information</h2>
                
                <div class="form-group">
                    <label><i class="fas fa-user"></i> Name</label>
                    <input type="text" id="name" placeholder="Enter your name" value="Victor Ye">
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-birthday-cake"></i> Age</label>
                    <input type="number" id="age" min="1" max="120" value="25">
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-calculator"></i> Calculation Basis</label>
                    <div class="info-box">
                        <i class="fas fa-info-circle"></i>
                        <strong>Why we ask this:</strong> Biological characteristics affect metabolism. We respect all gender identities and use this only for calculations.
                    </div>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="calc_male" name="calc_basis" value="male" checked>
                            <label for="calc_male">
                                <span class="radio-label-main">Typically Male Physiology</span>
                                <span class="radio-label-desc">Higher muscle mass, faster metabolism (uses standard male formula)</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="calc_female" name="calc_basis" value="female">
                            <label for="calc_female">
                                <span class="radio-label-main">Typically Female Physiology</span>
                                <span class="radio-label-desc">Lower muscle mass, slower metabolism (uses standard female formula)</span>
                            </label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="calc_custom" name="calc_basis" value="custom">
                            <label for="calc_custom">
                                <span class="radio-label-main">Custom / Other / Prefer Not to Specify</span>
                                <span class="radio-label-desc">Set your own metabolic rate or use average of both</span>
                            </label>
                        </div>
                    </div>
                </div>
                
                <div class="form-group" id="customMultiplierGroup" style="display: none;">
                    <label><i class="fas fa-sliders-h"></i> Custom Metabolic Multiplier</label>
                    <input type="range" id="metabolicMultiplier" min="0.85" max="1.15" step="0.01" value="1.0">
                    <div class="slider-value" id="metabolicValue">1.00 (Average)</div>
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-weight"></i> Weight (kg)</label>
                    <input type="range" id="weightSlider" min="30" max="200" value="64" step="0.5">
                    <div class="slider-value" id="weightValue">64.0 kg</div>
                    <input type="number" id="weight" min="30" max="200" value="64" step="0.5">
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-ruler-vertical"></i> Height (cm)</label>
                    <input type="range" id="heightSlider" min="100" max="250" value="174">
                    <div class="slider-value" id="heightValue">174 cm</div>
                    <input type="number" id="height" min="100" max="250" value="174">
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-running"></i> Activity Level</label>
                    <select id="activity">
                        <option value="1.2">Sedentary (little or no exercise)</option>
                        <option value="1.375" selected>Lightly Active (light exercise 1-3 days/week)</option>
                        <option value="1.55">Moderately Active (moderate exercise 3-5 days/week)</option>
                        <option value="1.725">Very Active (hard exercise 6-7 days/week)</option>
                        <option value="1.9">Extremely Active (very hard exercise & physical job)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-bullseye"></i> Weight Goal</label>
                    <select id="goal">
                        <option value="maintain" selected>Maintain Weight</option>
                        <option value="lose">Lose Weight (0.5 kg/week)</option>
                        <option value="lose_aggressive">Lose Weight Aggressive (1 kg/week)</option>
                        <option value="gain">Gain Weight (0.5 kg/week)</option>
                        <option value="gain_aggressive">Gain Weight Aggressive (1 kg/week)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-apple-alt"></i> Macronutrient Profile</label>
                    <select id="macroProfile">
                        <option value="balanced" selected>Balanced (P25% C50% F25%)</option>
                        <option value="high_protein">High Protein (P40% C30% F30%)</option>
                        <option value="low_carb">Low Carb (P30% C20% F50%)</option>
                        <option value="high_carb">High Carb (P15% C60% F25%)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-glass-whiskey"></i> Water Intake Goal (L)</label>
                    <input type="number" id="water" min="1" max="10" step="0.1" value="2.5">
                </div>
                
                <button class="btn" id="calculateBtn">
                    <i class="fas fa-calculator"></i> Calculate Nutrition Plan
                </button>
            </div>
            
            <div class="results-section">
                <h2><i class="fas fa-chart-line"></i> Your Results</h2>
                
                <div class="result-card">
                    <div class="result-title"><i class="fas fa-user-circle"></i> Personal Info</div>
                    <div class="result-details" id="personalInfo">Name: Victor Ye | Age: 25 | Calculation Basis: Typically Male Physiology</div>
                </div>
                
                <div class="result-card">
                    <div class="result-title"><i class="fas fa-weight"></i> Body Mass Index (BMI)</div>
                    <div class="result-value" id="bmiValue">21.1</div>
                    <div class="result-details">
                        <span class="bmi-category normal" id="bmiCategory">Normal weight</span>
                        <p id="bmiDescription">Your weight is within the normal range for your height.</p>
                    </div>
                </div>
                
                <div class="result-card">
                    <div class="result-title"><i class="fas fa-fire"></i> Total Daily Energy Expenditure (TDEE)</div>
                    <div class="result-value" id="tdeeValue">2491.6</div>
                    <div class="result-details" id="tdeeDetails">Calories per day to maintain your current weight</div>
                </div>
                
                <div class="result-card">
                    <div class="result-title"><i class="fas fa-bullseye"></i> Daily Calorie Target</div>
                    <div class="result-value" id="calorieTarget">2491.6</div>
                    <div class="result-details" id="calorieDetails">Based on your weight goal and activity level</div>
                </div>
                
                <div class="result-card">
                    <div class="result-title"><i class="fas fa-utensils"></i> Macronutrients</div>
                    <div id="macronutrients">
                        <div class="macro-bar">
                            <div class="macro-fill protein" style="width: 25%;"></div>
                            <div class="macro-fill carbs" style="width: 50%;"></div>
                            <div class="macro-fill fat" style="width: 25%;"></div>
                        </div>
                        <div class="macro-label">
                            <span>Protein: <span id="proteinValue">156g</span></span>
                            <span>Carbs: <span id="carbsValue">311g</span></span>
                            <span>Fat: <span id="fatValue">69g</span></span>
                        </div>
                    </div>
                </div>
                
                <div class="meal-plan">
                    <h2><i class="fas fa-utensils"></i> Sample Daily Meal Plan</h2>
                    <div class="meal">
                        <div class="meal-title"><i class="fas fa-sun"></i> Breakfast (500-600 cal)</div>
                        <div class="meal-items" id="breakfast">Oatmeal with berries, Greek yogurt, 2 boiled eggs</div>
                    </div>
                    <div class="meal">
                        <div class="meal-title"><i class="fas fa-cloud-sun"></i> Lunch (600-700 cal)</div>
                        <div class="meal-items" id="lunch">Grilled chicken breast, quinoa, mixed vegetables, salad</div>
                    </div>
                    <div class="meal">
                        <div class="meal-title"><i class="fas fa-moon"></i> Dinner (600-700 cal)</div>
                        <div class="meal-items" id="dinner">Salmon fillet, sweet potato, steamed broccoli, avocado</div>
                    </div>
                    <div class="meal">
                        <div class="meal-title"><i class="fas fa-apple-alt"></i> Snacks (300-400 cal)</div>
                        <div class="meal-items" id="snacks">Protein shake, almonds, fruit, protein bar</div>
                    </div>
                </div>
                
                <div class="history-section">
                    <h2><i class="fas fa-history"></i> Calculation History</h2>
                    <div id="historyList">
                        <!-- History items will be added here -->
                    </div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Nutrition & Fitness Calculator v2.0 | Created by Plyflame Healthcare Service <i class="fas fa-heart" style="color: #e74c3c;"></i> for everyone</p>
            <p>Disclaimer: This tool provides estimates. Consult with a healthcare professional for personalized advice.</p>
        </footer>
    </div>

    <script>
        // DOM Elements
        const nameInput = document.getElementById('name');
        const ageInput = document.getElementById('age');
        const weightInput = document.getElementById('weight');
        const weightSlider = document.getElementById('weightSlider');
        const weightValue = document.getElementById('weightValue');
        const heightInput = document.getElementById('height');
        const heightSlider = document.getElementById('heightSlider');
        const heightValue = document.getElementById('heightValue');
        const activitySelect = document.getElementById('activity');
        const goalSelect = document.getElementById('goal');
        const macroProfileSelect = document.getElementById('macroProfile');
        const waterInput = document.getElementById('water');
        const calculateBtn = document.getElementById('calculateBtn');
        const metabolicMultiplier = document.getElementById('metabolicMultiplier');
        const metabolicValue = document.getElementById('metabolicValue');
        const customMultiplierGroup = document.getElementById('customMultiplierGroup');
        
        // Result elements
        const personalInfo = document.getElementById('personalInfo');
        const bmiValue = document.getElementById('bmiValue');
        const bmiCategory = document.getElementById('bmiCategory');
        const bmiDescription = document.getElementById('bmiDescription');
        const tdeeValue = document.getElementById('tdeeValue');
        const tdeeDetails = document.getElementById('tdeeDetails');
        const calorieTarget = document.getElementById('calorieTarget');
        const calorieDetails = document.getElementById('calorieDetails');
        const proteinValue = document.getElementById('proteinValue');
        const carbsValue = document.getElementById('carbsValue');
        const fatValue = document.getElementById('fatValue');
        const breakfast = document.getElementById('breakfast');
        const lunch = document.getElementById('lunch');
        const dinner = document.getElementById('dinner');
        const snacks = document.getElementById('snacks');
        const historyList = document.getElementById('historyList');
        
        // Sync sliders with number inputs
        weightSlider.addEventListener('input', function() {
            weightInput.value = this.value;
            weightValue.textContent = this.value + ' kg';
        });
        
        weightInput.addEventListener('input', function() {
            weightSlider.value = this.value;
            weightValue.textContent = this.value + ' kg';
        });
        
        heightSlider.addEventListener('input', function() {
            heightInput.value = this.value;
            heightValue.textContent = this.value + ' cm';
        });
        
        heightInput.addEventListener('input', function() {
            heightSlider.value = this.value;
            heightValue.textContent = this.value + ' cm';
        });
        
        // Metabolic multiplier slider
        metabolicMultiplier.addEventListener('input', function() {
            const value = parseFloat(this.value);
            metabolicValue.textContent = value.toFixed(2) + ' (' + getMultiplierDescription(value) + ')';
        });
        
        function getMultiplierDescription(value) {
            if (value < 0.95) return 'Lower metabolism';
            if (value > 1.05) return 'Higher metabolism';
            return 'Average metabolism';
        }
        
        // Show/hide custom multiplier based on calculation basis selection
        document.querySelectorAll('input[name="calc_basis"]').forEach(radio => {
            radio.addEventListener('change', function() {
                customMultiplierGroup.style.display = this.value === 'custom' ? 'block' : 'none';
            });
        });
        
        // Calculate nutrition
        calculateBtn.addEventListener('click', function() {
            calculateNutrition();
            addToHistory();
        });
        
        function calculateNutrition() {
            // Get user inputs
            const name = nameInput.value || 'User';
            const age = parseInt(ageInput.value);
            const weight = parseFloat(weightInput.value);
            const height = parseFloat(heightInput.value) / 100; // Convert to meters
            const activity = parseFloat(activitySelect.value);
            const goal = goalSelect.value;
            const macroProfile = macroProfileSelect.value;
            const water = parseFloat(waterInput.value);
            
            // Get calculation basis
            const calcBasis = document.querySelector('input[name="calc_basis"]:checked').value;
            const customMultiplier = parseFloat(metabolicMultiplier.value);
            
            // Update personal info
            let calcBasisText = '';
            switch(calcBasis) {
                case 'male':
                    calcBasisText = 'Typically Male Physiology';
                    break;
                case 'female':
                    calcBasisText = 'Typically Female Physiology';
                    break;
                case 'custom':
                    calcBasisText = `Custom Multiplier (${customMultiplier.toFixed(2)})`;
                    break;
            }
            personalInfo.textContent = `Name: ${name} | Age: ${age} | Calculation Basis: ${calcBasisText}`;
            
            // Calculate BMI
            const bmi = weight / (height * height);
            bmiValue.textContent = bmi.toFixed(1);
            
            // Determine BMI category
            let bmiCat = '';
            let bmiDesc = '';
            let bmiClass = '';
            
            if (bmi < 18.5) {
                bmiCat = 'Underweight';
                bmiDesc = 'You may need to gain some weight for optimal health.';
                bmiClass = 'underweight';
            } else if (bmi >= 18.5 && bmi < 25) {
                bmiCat = 'Normal weight';
                bmiDesc = 'Your weight is within the normal range for your height.';
                bmiClass = 'normal';
            } else if (bmi >= 25 && bmi < 30) {
                bmiCat = 'Overweight';
                bmiDesc = 'You may need to lose some weight for optimal health.';
                bmiClass = 'overweight';
            } else {
                bmiCat = 'Obese';
                bmiDesc = 'It is recommended to lose weight for better health.';
                bmiClass = 'obese';
            }
            
            bmiCategory.textContent = bmiCat;
            bmiCategory.className = `bmi-category ${bmiClass}`;
            bmiDescription.textContent = bmiDesc;
            
            // Calculate BMR (Basal Metabolic Rate) based on selected basis
            let bmr;
            const baseCalculation = 10 * weight + 6.25 * (height * 100) - 5 * age;
            
            if (calcBasis === 'male') {
                // Standard male formula
                bmr = baseCalculation + 5;
            } else if (calcBasis === 'female') {
                // Standard female formula
                bmr = baseCalculation - 161;
            } else {
                // Custom formula using multiplier
                const maleBMR = baseCalculation + 5;
                const femaleBMR = baseCalculation - 161;
                const averageBMR = (maleBMR + femaleBMR) / 2;
                bmr = averageBMR * customMultiplier;
            }
            
            // Calculate TDEE
            const tdee = bmr * activity;
            tdeeValue.textContent = tdee.toFixed(1);
            tdeeDetails.textContent = `Calories per day to maintain your current weight`;
            
            // Calculate calorie target based on goal
            let calorieTargetValue;
            let calorieDesc = '';
            
            switch(goal) {
                case 'maintain':
                    calorieTargetValue = tdee;
                    calorieDesc = 'Maintain current weight';
                    break;
                case 'lose':
                    calorieTargetValue = tdee - 500;
                    calorieDesc = 'Lose 0.5 kg per week';
                    break;
                case 'lose_aggressive':
                    calorieTargetValue = tdee - 1000;
                    calorieDesc = 'Lose 1 kg per week';
                    break;
                case 'gain':
                    calorieTargetValue = tdee + 500;
                    calorieDesc = 'Gain 0.5 kg per week';
                    break;
                case 'gain_aggressive':
                    calorieTargetValue = tdee + 1000;
                    calorieDesc = 'Gain 1 kg per week';
                    break;
                default:
                    calorieTargetValue = tdee;
            }
            
            calorieTarget.textContent = calorieTargetValue.toFixed(1);
            calorieDetails.textContent = calorieDesc;
            
            // Calculate macronutrients based on profile
            let proteinPercent, carbsPercent, fatPercent;
            
            switch(macroProfile) {
                case 'balanced':
                    proteinPercent = 0.25;
                    carbsPercent = 0.50;
                    fatPercent = 0.25;
                    break;
                case 'high_protein':
                    proteinPercent = 0.40;
                    carbsPercent = 0.30;
                    fatPercent = 0.30;
                    break;
                case 'low_carb':
                    proteinPercent = 0.30;
                    carbsPercent = 0.20;
                    fatPercent = 0.50;
                    break;
                case 'high_carb':
                    proteinPercent = 0.15;
                    carbsPercent = 0.60;
                    fatPercent = 0.25;
                    break;
                default:
                    proteinPercent = 0.25;
                    carbsPercent = 0.50;
                    fatPercent = 0.25;
            }
            
            // Calculate grams (protein & carbs: 4 cal/g, fat: 9 cal/g)
            const proteinGrams = Math.round((calorieTargetValue * proteinPercent) / 4);
            const carbsGrams = Math.round((calorieTargetValue * carbsPercent) / 4);
            const fatGrams = Math.round((calorieTargetValue * fatPercent) / 9);
            
            proteinValue.textContent = `${proteinGrams}g`;
            carbsValue.textContent = `${carbsGrams}g`;
            fatValue.textContent = `${fatGrams}g`;
            
            // Update macro bar
            const macroBar = document.querySelector('.macro-bar');
            macroBar.innerHTML = `
                <div class="macro-fill protein" style="width: ${proteinPercent * 100}%;"></div>
                <div class="macro-fill carbs" style="width: ${carbsPercent * 100}%;"></div>
                <div class="macro-fill fat" style="width: ${fatPercent * 100}%;"></div>
            `;
            
            // Generate meal suggestions based on profile
            generateMealPlan(macroProfile, calorieTargetValue);
            
            // Show success message
            showNotification('Nutrition plan calculated successfully!', 'success');
        }
        
        function generateMealPlan(profile, calories) {
            let breakfastMeal, lunchMeal, dinnerMeal, snackMeal;
            
            switch(profile) {
                case 'balanced':
                    breakfastMeal = 'Oatmeal with berries, Greek yogurt, 2 boiled eggs';
                    lunchMeal = 'Grilled chicken breast, quinoa, mixed vegetables, salad';
                    dinnerMeal = 'Salmon fillet, sweet potato, steamed broccoli, avocado';
                    snackMeal = 'Protein shake, almonds, fruit, protein bar';
                    break;
                case 'high_protein':
                    breakfastMeal = 'Egg white omelette with vegetables, turkey bacon, protein smoothie';
                    lunchMeal = 'Lean beef steak, brown rice, asparagus, side salad with chicken';
                    dinnerMeal = 'Tuna steak, roasted potatoes, green beans, cottage cheese';
                    snackMeal = 'Greek yogurt, beef jerky, hard-boiled eggs, protein bar';
                    break;
                case 'low_carb':
                    breakfastMeal = 'Avocado & eggs, bacon, spinach, bulletproof coffee';
                    lunchMeal = 'Grilled salmon, cauliflower rice, avocado salad with olive oil';
                    dinnerMeal = 'Steak with butter sauce, roasted vegetables, side salad with nuts';
                    snackMeal = 'Cheese slices, macadamia nuts, celery with almond butter';
                    break;
                case 'high_carb':
                    breakfastMeal = 'Whole grain toast with peanut butter, banana, oatmeal, orange juice';
                    lunchMeal = 'Pasta with lean ground turkey, whole grain bread, fruit salad';
                    dinnerMeal = 'Rice bowl with vegetables and tofu, sweet potato, whole grain bread';
                    snackMeal = 'Fruit smoothie, rice cakes, dates, whole grain crackers';
                    break;
                default:
                    breakfastMeal = 'Oatmeal with berries, Greek yogurt, 2 boiled eggs';
                    lunchMeal = 'Grilled chicken breast, quinoa, mixed vegetables, salad';
                    dinnerMeal = 'Salmon fillet, sweet potato, steamed broccoli, avocado';
                    snackMeal = 'Protein shake, almonds, fruit, protein bar';
            }
            
            breakfast.textContent = breakfastMeal;
            lunch.textContent = lunchMeal;
            dinner.textContent = dinnerMeal;
            snacks.textContent = snackMeal;
        }
        
        function addToHistory() {
            const name = nameInput.value || 'User';
            const bmi = bmiValue.textContent;
            const tdee = tdeeValue.textContent;
            const calories = calorieTarget.textContent;
            const date = new Date().toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const historyItem = document.createElement('div');
            historyItem.className = 'history-item';
            historyItem.innerHTML = `
                <strong>${date}</strong> - ${name}: BMI: ${bmi} | TDEE: ${tdee} cal | Target: ${calories} cal
            `;
            
            // Add to top of history
            historyList.insertBefore(historyItem, historyList.firstChild);
            
            // Limit history to 5 items
            if (historyList.children.length > 5) {
                historyList.removeChild(historyList.lastChild);
            }
        }
        
        function showNotification(message, type) {
            // Create notification element
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                background: ${type === 'success' ? '#2ecc71' : '#e74c3c'};
                color: white;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                z-index: 1000;
                font-weight: bold;
                animation: slideIn 0.3s ease;
            `;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        // Add CSS animations
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
        
        // Calculate on page load with default values
        window.addEventListener('load', function() {
            calculateNutrition();
            
            // Add initial history item
            const date = new Date().toLocaleDateString('en-US', { 
                month: 'short', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const historyItem = document.createElement('div');
            historyItem.className = 'history-item';
            historyItem.innerHTML = `
                <strong>${date}</strong> - Victor Ye: BMI: 21.1 | TDEE: 2491.6 cal | Target: 2491.6 cal
            `;
            
            historyList.appendChild(historyItem);
        });
    </script>
</body>
</html>